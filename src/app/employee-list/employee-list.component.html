<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <!-- <ion-title>
      Home
    </ion-title> -->
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <p>
    Add New Employee OR Search Employee.<br>
    <span style="color:gray;">(We'll use Firebase Query to get Search results)</span>
  </p>
  <table>
    <tbody>
      <tr>
        <td>Name</td>
        <td>
          <input type="text" [(ngModel)]="employee.name" required>
        </td>
      </tr>
      <tr>
        <td>Phone</td>
        <td>
          <input type="number" [(ngModel)]="employee.phone" required>
        </td>
      </tr>
      <tr>
        <td>Designation</td>
        <td>
          <input type="text" [(ngModel)]="employee.designation" required>
        </td>
      </tr>
      <tr>
        <td>Salary</td>
        <td>
          <input type="number" [(ngModel)]="employee.salary" required>
        </td>
      </tr>
      <tr>
        <td>JoinDate</td>
        <td>
          <input type="date" [(ngModel)]="employee.joinDate" required>
        </td>
      </tr>
      <tr>
        <td>Address</td>
        <td>
          <input type="text" [(ngModel)]="employee.address" required>
        </td>
      </tr>
      <tr>
        <td>ExtraInfo</td>
        <td>
          <input type="text" [(ngModel)]="employee.extraInfo" required>
        </td>
      </tr>
      <tr>
        <td>Add</td>
        <td>
          <!-- submit button (to create new employee) -->
          <ion-button *ngIf="!toggleUpdateBtn" (click)="addEmployee(employee)">Submit</ion-button>
          <!-- update button (to update existing employee) -->
          <ion-button *ngIf="toggleUpdateBtn" (click)="updateEmployee(employee)">update</ion-button>

          <!-- search button (find employee based on given info) -->
          <ion-button *ngIf="toggleSearchBtn" (click)="searchEmployee(employee)">Search</ion-button>
          <!-- clear search button (clear search result and display all employee)
              by calling clearSearch() -->
          <ion-button *ngIf="!toggleSearchBtn" (click)="clearSearch()">Clear Search</ion-button>
        </td>
      </tr>
    </tbody>
  </table>

  <p style="border-top: 1px solid gray;"></p>
  
  <p>
    Employee List Works!
  </p>
  <table>
    <thead>
      <th>Name</th>
      <th>Phone</th>
      <th>Designation</th>
      <th>Salary</th>
      <th>JoinDate</th>
      <th>Address</th>
      <th>ExtraInfo</th>
      <th>Update</th>
      <th>Delete</th>
    </thead>
    <tbody>
      <tr *ngFor="let employee of employees">
        <td>{{ employee.name }}</td>
        <td>{{ employee.phone }}</td>
        <td>{{ employee.designation }}</td>
        <td>{{ employee.salary }}</td>
        <td>{{ employee.joinDate }}</td>
        <td>{{ employee.address }}</td>
        <td>{{ employee.extraInfo }}</td>
        <td>
          <ion-button (click)="editFunc(employee)">Edit</ion-button>
        </td>
        <td>
          <ion-button (click)="deleteEmployee(employee.id)">Delete</ion-button>
        </td>
      </tr>
    </tbody>
  </table>
</ion-content>